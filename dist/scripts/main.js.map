{"version":3,"sources":["main.babel.js"],"names":["searchWiki","query","process","wikipediaQuery","fetch","then","res","json","console","log","catch","err","app","Moon","el","data","search","results","methods","startSearch","_this","this","get","set","map","result","title","link","excerpt","snippet","replace","inputTimeout","document","querySelector","addEventListener","e","clearTimeout","setTimeout","$data","target","value","trim"],"mappings":"YAmBA,SAASA,YAAWC,EAAOC,GACvB,GAAMC,GAAAA,uEAAwFF,EAAxF,uBAENG,OAAMD,GACDE,KAAK,SAAAC,GAAA,MAAOA,GAAIC,SAChBF,KAAK,SAAAE,GACFC,QAAQC,IAAIF,GACZL,EAAQK,KAEXG,MAAM,SAAAC,GAAA,MAAOH,SAAQC,IAAIE,KA5BlC,GAAMC,KAAM,GAAIC,OACZC,GAAI,OACJC,MACIC,OAAQ,GACRC,YAEJC,SACIC,YAAa,WAAW,GAAAC,GAAAC,IACpBrB,YAAWqB,KAAKC,IAAI,UAAW,SAAAf,GAC3Ba,EAAKG,IAAI,UAAWhB,EAAKN,MAAMe,OAAOQ,IAAI,SAAAC,GAAA,OACtCC,MAAOD,EAAOC,MACdC,KAAAA,gCAAsCF,EAAOC,MAC7CE,QAASH,EAAOI,QAAQC,QAAQ,iBAAkB,cAmBlEC,aAAe,IAEnBC,UAASC,cAAc,gBAAgBC,iBAAiB,QAAS,SAAAC,GAC/DC,aAAaL,cACbA,aAAeM,WAAW,WACxBzB,IAAI0B,MAAMtB,OAASmB,EAAEI,OAAOC,MAAMC,OAClC7B,IAAI0B,MAAMnB,eACT","file":"main.babel.js","sourcesContent":["const app = new Moon({\n    el: \"#app\",\n    data: {\n        search: \"\",\n        results: []\n    },\n    methods: {\n        startSearch: function() {\n            searchWiki(this.get('search'), json => {\n                this.set('results', json.query.search.map(result => ({\n                    title: result.title,\n                    link: `http://en.wikipedia.org/wiki/${result.title}`,\n                    excerpt: result.snippet.replace(/<(?:.|\\n)*?>/gm, ''),\n                })))\n            })\n        }\n    }\n});\n\nfunction searchWiki(query, process) {\n    const wikipediaQuery = `http://en.wikipedia.org/w/api.php?action=query&list=search&srsearch=${query}&format=json&origin=*`;\n\n    fetch(wikipediaQuery)\n        .then(res => res.json())\n        .then(json => {\n            console.log(json)\n            process(json)\n        })\n        .catch(err => console.log(err))\n}\n\nvar inputTimeout = null;\n\ndocument.querySelector('#search-text').addEventListener('input', e => {\n  clearTimeout(inputTimeout)\n  inputTimeout = setTimeout(() => {\n    app.$data.search = e.target.value.trim()\n    app.$data.startSearch()\n  }, 500);\n})\n"]}